<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8" />
    <title>Gestão de Pedidos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="IMAGES/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" type="image/jpg" href="IMAGES/favicon.ico"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">


</head>
<body>
<div class="user-selection-container" id="userSelectionPage">
    <div class="user-selection-box">
        <img src="IMAGES/c-high-resolution-logo.png" alt="Logo" class="logo">
        <h2>Qual serviço você executa?</h2>

        <div class="user-option" data-user-type="operador" onclick="selectUserType('operador')">
            <img src="IMAGES/pacote.png" alt="Icone Separador" class="icon">
            <div class="text-content">
                <h3>Separador</h3>
                <p>Separar materiais e inserir pesos solicitados</p>
            </div>
        </div>

        <div class="user-option" data-user-type="motorista" onclick="selectUserType('motorista')">
            <img src="IMAGES/delivery-truck.png" alt="Icone Motorista" class="text-content">
            <div class="text-content">
                <h3>Carregamento</h3>
                <p>Carregar os materiais</p>
            </div>
        </div>

        <button class="user-option-button" onclick="continueToNextScreen()">Continuar</button>
    </div>
</div>


<div class="user-selection-container" id="materialSelectionPage" style="display: none;">
    <div class="user-selection-box">
        <img src="IMAGES/c-high-resolution-logo.png" alt="Logo" class="logo">
        <h2>Qual material você irá separar?</h2>

        <div class="user-option" data-material-type="Chapa" onclick="selectMaterialType('Chapa')">
            <img src="IMAGES/chapa-de-aco.png" alt="Icone Chapa" class="icon">
            <div class="text-content">
                <h3>Chapa</h3>
                <p>Pedidos contendo chapas</p>
            </div>
        </div>

        <div class="user-option" data-material-type="Tubo" onclick="selectMaterialType('Tubo')">
            <img src="IMAGES/tubos.png" alt="Icone Tubo" class="icon">
            <div class="text-content">
                <h3>Tubo</h3>
                <p>Pedidos contendo tubos</p>
            </div>
        </div>

        <div class="user-option" data-material-type="Viga" onclick="selectMaterialType('Viga')">
            <img src="IMAGES/viga-de-aco.png" alt="Icone Viga" class="icon">
            <div class="text-content">
                <h3>Viga</h3>
                <p>Pedidos contendo vigas</p>
            </div>
        </div>

        <div class="user-option" data-material-type="Todos" onclick="selectMaterialType('Todos')">
            <img src="IMAGES/aco-laminado.png" alt="Icone Todos" class="icon">
            <div class="text-content">
                <h3>Todos os Materiais</h3>
                <p>Visualizar pedidos de todos os tipos de materiais</p>
            </div>

        </div>

        <button class="user-option-button" onclick="continueToFilterScreen()">Continuar</button>

    </div>
</div>


<div class="login-container" id="loginPage" style="display: none;">
    <div class="login-box">
        <h2>Acesso de Separador</h2>
        <input type="text" id="username" placeholder="Usuário" autocomplete="username" />
        <input type="password" id="password" placeholder="Senha" autocomplete="current-password" />
        <button onclick="fazerLogin()">Acessar Sistema</button>
        <div class="login-error" id="loginErro"></div>
    </div>
</div>

<div class="login-container" id="driverLoginPage" style="display: none;">
    <div class="login-box">
        <h2>Acesso de Carregamento</h2>
        <input type="text" id="driverUsername" placeholder="Usuário" autocomplete="username" />
        <input type="password" id="driverPassword" placeholder="Senha" autocomplete="current-password" />
        <button onclick="fazerLoginMotorista()">Acessar Sistema</button>
        <div class="login-error" id="driverLoginErro"></div>
    </div>
</div>

<div class="filter-screen-container" id="filterScreen">
    <div class="filter-box">
        <img src="IMAGES/c-high-resolution-logo.png" alt="Logo" class="logo">
        <h2>Visualizar Pedidos</h2>
        <div class="summary-section">
            <h3>Resumo de Pedidos por Embarque</h3>
            <div id="embarqueSummary"></div>
            <button onclick="viewPedidosFromSummary('')" class="filter-box-button-bottom">Ver Todos os Pedidos</button>
        </div>

        <button class="filter-box-button-bottom" onclick="confirmResetAllData()" id="resetDataButton" style="background-color: var(--red-error); margin-top: 30px; display: block;">Zerar Todos os Dados de Pesagem</button>

        <button class="filter-box-button-bottom" onclick="logout()" style="background-color: var(--text-secondary); margin-top: 15px;">Sair (Logout)</button>

    </div>
</div>


    <div class="filter-screen-container" id="loaderOrdersScreen" style="display: none;">
        <div class="filter-box">
            <h2>Pedidos aguardando carregamento</h2>
            <div class="loader-status-filters">
                <button data-loader-filter="todos" class="active" onclick="aplicarFiltroCarregamento('todos', this)">Todos os Pedidos</button>
                <button data-loader-filter="meus" onclick="aplicarFiltroCarregamento('meus', this)">Meus Carregamentos</button>
            </div>
            <div id="loadingOrdersList"></div>
            <button class="filter-box-button-bottom" onclick="logout()" style="background-color: var(--text-secondary); margin-top: 15px;">Sair</button>
        </div>
    </div>
</div>
</div>

<div id="mainApp">
    <div class="header">
        <div class="header-left">
            <button class="btn-back" onclick="goBackToFilterScreen()">Voltar</button>
            <div class="title">Gestão de Pedidos</div>
        </div>
        <button class="btn-logout" onclick="logout()">Sair</button>
    </div>
    <div class="container">
        <div class="welcome" id="welcomeMessage"></div>

        <div class="main-app-status-filters" id="mainAppStatusFilters" style="display:none;">
            <button data-status-filter="todas" class="active" onclick="aplicarFiltroStatusPrincipal('todas', this)">Todos os Status</button>
            <button data-status-filter="Aguardando separação" onclick="aplicarFiltroStatusPrincipal('Aguardando separação', this)">Aguardando Separação</button>
            <button data-status-filter="Em separação" onclick="aplicarFiltroStatusPrincipal('Em separação', this)">Em Separação</button>
            <button data-status-filter="Pedido separado" onclick="aplicarFiltroStatusPrincipal('Pedido separado', this)">Pedido Separado</button>
        </div>


        <div id="quotationsByEmbarque" class="card quotations-section" style="display:none;">
            <h3>Cotações Relacionadas ao Embarque</h3>
            <div id="quotationList"></div>
        </div>

        <div id="pedidosPorSetor" class="card"></div>
        <button id="backToAllOrdersButton" class="btn-back-to-all-orders" style="display:none; margin-top: 25px; width: 100%;">Voltar para Todos os Pedidos</button>

</div>
    </div>
</div>

<div class="modal-overlay" id="modalOverlay">
    <div class="modal-content">
        <button class="modal-close-button" onclick="closeModal()">&times;</button>
        <h3 id="modalTitle"></h3>
        <p id="modalMessage"></p>
        <div class="modal-buttons" id="modalButtons">
    </div>
</div>



    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

</body>
</html>